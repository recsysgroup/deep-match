{
  "embedding_size": 64,
  "neg_sample_size": 5,
  "rank_loss_weight": 1.0,
  "columns": [
    {
      "name": "user:user_id",
      "type": "single"
    },
    {
      "name": "user:user_age",
      "type": "single"
    },
    {
      "name": "user:user_gender",
      "type": "single"
    },
    {
      "name": "user:user_pay_class",
      "type": "single"
    },
    {
      "name": "user:rootcate_id_seq",
      "type": "seq",
      "seq_len": 5
    },
    {
      "name": "item:content_id",
      "type": "single"
    },
    {
      "name": "item:cate_id",
      "type": "single"
    },
    {
      "name": "item:cate1_id",
      "type": "single"
    },
    {
      "name": "item:w_h_ratio",
      "type": "single"
    },
    {
      "name": "item:ctr",
      "type": "single"
    }
  ],
  "loss": {
  },
  "aggregators": {
    "user": "sum",
    "item": "sum"
  },
  "evals": [
    {
      "name": "auc"
    }
  ],
  "user": [
    {
      "name": "user_age",
      "layers": [
        {
          "type": "hash",
          "size": 100
        },
        {
          "type": "embedding",
          "name": "age_emb",
          "size": 100,
          "dim": 64
        }
      ]
    },
    {
      "name": "user_gender",
      "layers": [
        {
          "type": "hash",
          "size": 100
        },
        {
          "type": "embedding",
          "name": "gender_emb",
          "size": 100,
          "dim": 64
        }
      ]
    },
    {
      "name": "user_pay_class",
      "layers": [
        {
          "type": "hash",
          "size": 100
        },
        {
          "type": "embedding",
          "name": "pay_class_emb",
          "size": 100,
          "dim": 64
        }
      ]
    },
    {
      "name": "user_profile",
      "layers": [
        {
          "type": "concat",
          "fields": [
            "user_age",
            "user_gender",
            "user_pay_class"
          ]
        },
        {
          "type": "hash",
          "size": 100000
        },
        {
          "type": "embedding",
          "name": "user_profile",
          "size": 100000,
          "dim": 64
        }
      ]
    },
    {
      "name": "user_id",
      "layers": [
        {
          "type": "hash",
          "size": 10000000
        },
        {
          "type": "embedding",
          "name": "user_embedding",
          "size": 10000000,
          "dim": 64
        }
      ]
    }
  ],
  "item": [
    {
      "name": "content_id",
      "type": "single",
      "layers": [
        {
          "type": "hash",
          "size": 1000000
        },
        {
          "type": "embedding",
          "name": "content_emb",
          "size": 1000000,
          "dim": 64
        }
      ]
    },
    {
      "name": "cate_id",
      "type": "single",
      "layers": [
        {
          "type": "hash",
          "size": 100000
        },
        {
          "type": "embedding",
          "name": "cate_emb",
          "size": 100000,
          "dim": 64
        }
      ]
    },
    {
      "name": "cate1_id",
      "type": "single",
      "layers": [
        {
          "type": "hash",
          "size": 10000
        },
        {
          "type": "embedding",
          "name": "cate1_emb",
          "size": 10000,
          "dim": 64
        }
      ]
    },
    {
      "name": "w_h_ratio",
      "type": "single",
      "layers": [
        {
          "type": "number_embedding",
          "min": 0,
          "max": 2.0,
          "size": 20,
          "dim": 64
        }
      ]
    },
    {
      "name": "ctr",
      "type": "single",
      "layers": [
        {
          "type": "number_embedding",
          "min": 0,
          "max": 1.0,
          "size": 100,
          "dim": 64
        }
      ]
    }
  ]
}
